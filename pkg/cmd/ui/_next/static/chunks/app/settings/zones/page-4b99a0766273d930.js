(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[442],{3167:(e,t,s)=>{Promise.resolve().then(s.bind(s,6268))},2640:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(7401).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},5686:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(7401).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7072:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(7401).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},6268:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var l=s(5155),a=s(2115),r=s(3473),n=s(2640),o=s(7072);let i=(0,s(7401).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var d=s(5686),c=s(8621);let x=()=>{let{zones:e,setZones:t,organization:s}=(0,c.n)(),[x,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(""),[b,g]=(0,a.useState)("test");return(0,l.jsxs)("div",{className:"p-8 max-w-4xl mx-auto",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Zones"}),(0,l.jsx)("p",{className:"text-gray-500",children:"Manage your isolated automation environments."})]}),(0,l.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-lg shadow-blue-100",children:[(0,l.jsx)(r.A,{className:"w-4 h-4 mr-2"}),"Create Zone"]})]}),x&&(0,l.jsxs)("div",{className:"mb-8 p-6 bg-white border border-blue-100 rounded-2xl shadow-xl animate-in zoom-in-95 duration-200",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"New Zone"}),(0,l.jsxs)("form",{onSubmit:l=>{l.preventDefault(),s&&(t([...e,{id:"zone_".concat(Math.random().toString(36).substr(2,9)),name:h,org_id:s.id,mode:b}]),m(""),u(!1))},className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zone Name"}),(0,l.jsx)("input",{type:"text",value:h,onChange:e=>m(e.target.value),placeholder:"e.g. Staging, Production",className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mode"}),(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>g("test"),className:"flex-1 flex items-center justify-center p-3 rounded-xl border-2 transition-all ".concat("test"===b?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-100 text-gray-500 hover:border-gray-200"),children:[(0,l.jsx)(n.A,{className:"w-4 h-4 mr-2"}),"Test (Sandbox)"]}),(0,l.jsxs)("button",{type:"button",onClick:()=>g("live"),className:"flex-1 flex items-center justify-center p-3 rounded-xl border-2 transition-all ".concat("live"===b?"border-green-500 bg-green-50 text-green-700":"border-gray-100 text-gray-500 hover:border-gray-200"),children:[(0,l.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Live (Production)"]})]})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,l.jsx)("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create"})]})]})]}),(0,l.jsx)("div",{className:"grid gap-4",children:0===e.length?(0,l.jsxs)("div",{className:"text-center py-20 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-200",children:[(0,l.jsx)("div",{className:"bg-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 shadow-sm",children:(0,l.jsx)(r.A,{className:"w-6 h-6 text-gray-300"})}),(0,l.jsx)("p",{className:"text-gray-500",children:"No zones created yet."})]}):e.map(e=>(0,l.jsx)("div",{className:"group bg-white p-5 rounded-2xl border border-gray-100 hover:border-blue-200 hover:shadow-xl hover:shadow-blue-50/50 transition-all",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mr-4 ".concat("live"===e.mode?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"),children:"live"===e.mode?(0,l.jsx)(o.A,{className:"w-6 h-6"}):(0,l.jsx)(n.A,{className:"w-6 h-6"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("h3",{className:"font-bold text-gray-900 mr-2",children:e.name}),(0,l.jsx)("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider ".concat("live"===e.mode?"bg-green-50 text-green-600":"bg-blue-50 text-blue-600"),children:e.mode})]}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:e.id})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,l.jsx)("button",{className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:(0,l.jsx)(i,{className:"w-4 h-4"})}),(0,l.jsx)("button",{className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",children:(0,l.jsx)(d.A,{className:"w-4 h-4"})})]})]})},e.id))}),(0,l.jsxs)("div",{className:"mt-12 p-6 bg-blue-600 rounded-3xl text-white relative overflow-hidden shadow-2xl shadow-blue-200",children:[(0,l.jsxs)("div",{className:"relative z-10",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Advanced Zone Scoping"}),(0,l.jsx)("p",{className:"text-blue-100 text-sm max-w-lg mb-6",children:"Each zone generates its own set of API keys. Events and Flows are strictly isolated within their respective zones."}),(0,l.jsx)("button",{className:"px-5 py-2 bg-white text-blue-600 font-bold rounded-xl hover:bg-blue-50 transition-colors",children:"Read Documentation"})]}),(0,l.jsx)("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-64 h-64 bg-blue-500 rounded-full opacity-50 blur-3xl"}),(0,l.jsx)("div",{className:"absolute bottom-0 left-0 -ml-10 -mb-10 w-40 h-40 bg-blue-400 rounded-full opacity-30 blur-2xl"})]})]})}},8621:(e,t,s)=>{"use strict";s.d(t,{n:()=>n});var l=s(9827),a=s(709);let r={admin:4,finance:3,developer:2,viewer:1},n=(0,l.v)()((0,a.Zr)((e,t)=>({user:null,organization:null,zone:null,zones:[],environment:"test",accessToken:null,isLoading:!1,error:null,setUser:t=>e({user:t}),setOrganization:t=>e({organization:t}),setZone:t=>e({zone:t,environment:(null==t?void 0:t.mode)||"test"}),setZones:t=>e({zones:t}),setEnvironment:t=>e({environment:t}),setAccessToken:t=>e({accessToken:t}),setLoading:t=>e({isLoading:t}),setError:t=>e({error:t}),login:async(e,s)=>{let{setLoading:l,setError:a,setUser:r,setAccessToken:n}=t();l(!0),a(null);try{let t=await fetch("".concat("http://localhost:3000/api/auth","/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s})});if(!t.ok)throw Error("Invalid credentials");let l=await t.json();n(l.access_token),r({id:l.user.id,email:l.user.email,name:l.user.name||e.split("@")[0],role:l.user.role||"developer"})}catch(e){throw a(e instanceof Error?e.message:"Login failed"),e}finally{l(!1)}},logout:()=>{e({user:null,organization:null,zone:null,zones:[],accessToken:null,error:null})},hasRole:e=>{let{user:s}=t();return!!s&&r[s.role]>=r[e]},canEdit:()=>{let{user:e}=t();return!!e&&["admin","finance","developer"].includes(e.role)},isAdmin:()=>{let{user:e}=t();return(null==e?void 0:e.role)==="admin"}}),{name:"fintech-auth-storage",partialize:e=>({accessToken:e.accessToken,user:e.user,organization:e.organization,zone:e.zone,zones:e.zones,environment:e.environment})}))}},e=>{var t=t=>e(e.s=t);e.O(0,[295,441,517,358],()=>t(3167)),_N_E=e.O()}]);